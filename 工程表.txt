了解です。
この dev_plan_pipeline.json を、あなたが今後 ChatGPT に指示するための「人間用工程表」として整理します。

「いまどのフェーズで、次にどのタスクをお願いするか」を一目で分かるようにして、
それぞれに ChatGPT への指示文テンプレも付けます。

────────────────────

1. 全体の進め方（共通ルール）
   ────────────────────

1) チャット開始時

* これまで決めた手順どおり

  * docs/*.json → data/*.json を読み込ませる
  * 「工程表に沿って進める」ことを宣言する

2. 作業を進めるとき

* まず「どのフェーズのどのタスクをやるか」を自分で決める
* 下の工程表から、そのタスクの「ChatGPTへの指示テンプレ」をそのまま貼る
* ChatGPT が「必要な .gd を教えてください」と言ったら、urls_gd.txt から必要な raw URL を貼る

3. 原則

* フェーズの順番は
  P0 → P1 → P2 → P3 → P4 → P5 → P6 → P7
* いまは P0 完了、P1 が in_progress
* しばらくは P1 → P2 → P3 がメインの仕事

────────────────────
2. フェーズ別の工程表（人間用）
────────────────────

ここから下は、ChatGPT に「次のタスクを指定するとき」に見る工程表です。
特に近いフェーズ P1〜P3 は指示テンプレを細かく書いています。

========================
P0 仕様確定（前提）［完了済み］
=================

・やったこと

* 仕様書の「正」を固定
* 旧じゃんけん仕様は完全に捨てると決定

→ ここはもう触らなくてよい。
　以後の会話で迷ったら「P0 で仕様は確定している」と言ってよい。

ChatGPT への指示は基本不要です。

========================
P1 データ基盤の完成（JSON 正規化）
=====================

目的：
stages / story_flow / events / battle_texts / ui_texts / meirin_oop_game_ref を
設計どおりの形にして、どのシステムからも安心して参照できる状態にする。

いま重点的にやるフェーズ。

---

P1_T1_STAGES_UNIFY
「stages.json と stages_new.json の統合方針決定」

やること（人間目線）

* どちらをベースにするか決める
* 最終的に data/stages.json 一本にする方針を固める

ChatGPT への指示テンプレ

```
工程表の P1_T1_STAGES_UNIFY を進めたいです。

目的は、
・data/stages.json と data/stages_new.json を比較して、
・新仕様に沿った形で 1 本化する方針を決めること
です。

設計JSONを踏まえて、
1) どちらをベースにすべきか
2) 具体的な統合方針
を教えてください。
必要なら両方の JSON を再確認してください。
```

---

P1_T2_STAGES_NORMALIZE
「stages.json のスキーマ正規化」

やること

* design_midstream_system.json のステージ定義どおりにフィールドを揃える

ChatGPT への指示テンプレ

```
工程表の P1_T2_STAGES_NORMALIZE を進めたいです。

目的は、
・data/stages.json を design_midstream_system.json のステージスキーマに完全に合わせること
です。

現状の stages.json を確認したうえで、
・不足フィールド
・余分フィールド
・1章だけでも完成させるための最低限のサンプル
を提案してください。
修正済みの stages.json 全文案を出してほしいです。
```

---

P1_T3_STORY_FLOW_NORMALIZE
「story_flow.json のノード整備」

やること

* ノードの id / type / chapter_id / next などを整理
* 1章〜最終章まで論理的につながる形に

ChatGPT への指示テンプレ

```
工程表の P1_T3_STORY_FLOW_NORMALIZE を進めたいです。

目的は、
・story_flow.json の全ノードを、設計どおりのスキーマに揃え、
・少なくとも 1 章の開始から終端まで途切れないフローにすること
です。

現状の story_flow.json を見た上で、
1) スキーマ上の不足・矛盾の指摘
2) chap01 のフローを完成させる修正版 JSON
を提案してください。
```

---

P1_T4_EVENTS_SYNC
「events.json と story_flow の同期」

やること

* story_flow に出てくる event_id が events にすべてあるか確認
* 足りないものはダミーも含めて埋める

ChatGPT への指示テンプレ

```
工程表の P1_T4_EVENTS_SYNC を進めたいです。

目的は、
・story_flow.json に登場する event_id が、
・すべて events.json に存在する状態にすること
です。

両方の JSON を突き合わせて、
1) 足りない event_id の一覧
2) 1章ぶんの最低限のダミー本文を含めた追記案
を出してください。
```

---

P1_T5_BATTLE_TEXTS_REDESIGN
「battle_texts.json の新メカニクス対応」

やること

* 旧じゃんけん前提の構造を捨てる
* フォーム別スキル配列＋敵別スキル＋システムメッセージに再設計

ChatGPT への指示テンプレ

```
工程表の P1_T5_BATTLE_TEXTS_REDESIGN を進めたいです。

目的は、
・旧じゃんけん前提を捨てて、
・RPGターン制＋フォーム制に合う battle_texts.json に作り直すこと
です。

設計JSONを踏まえて、
1) 推奨するキー構造（skills.player.form_1 等）の具体案
2) 1章用のサンプル（プレイヤー技名・敵技名・システムメッセージ）
を含んだ battle_texts.json の案を出してください。
```

---

P1_T6_UI_TEXTS_ORGANIZE
「ui_texts.json のカテゴリ整理」

ChatGPT への指示テンプレ

```
工程表の P1_T6_UI_TEXTS_ORGANIZE を進めたいです。

目的は、
・ui_texts.json を battle / system / clear / title などカテゴリごとに整理し、
・BattleScene / ClearScene から直接文字列を書かずに参照できる状態にすること
です。

現状の ui_texts.json を見たうえで、
・カテゴリ構造の提案
・キー名ルール（例: battle.attack_button など）
・修正版の ui_texts.json 全文案
を作成してください。
```

---

P1_T7_GAME_REF_CONFIRM
「meirin_oop_game_ref.json の参照漏れチェック」

ChatGPT への指示テンプレ

```
工程表の P1_T7_GAME_REF_CONFIRM を進めたいです。

目的は、
・meirin_oop_game_ref.json の forms / stages / characters マッピングが、
・stages.json / story_flow.json で実際に使う ID を網羅している状態にすること
です。

不足している ID や不整合があれば指摘し、
追記・修正した meirin_oop_game_ref.json 案を提示してください。
```

========================
P2 コアシステム実装（RPGターン制＋進行）
=======================

目的：
JSON と Godot シーンをつなぐロジックを完成させるフェーズ。
イベント→バトル→イベントの基本フローと、ターン制バトルの中身。

P1 がある程度進んだら着手。

ここでは、しばらく最重要になりそうなタスクだけテンプレ化します。

---

P2_T1_UITEXT_DB
「UiTextDB / UiText の完成」

```
工程表の P2_T1_UITEXT_DB を進めたいです。

目的は、
・ui_texts.json をロードして、
・UiText.get("battle.attack_button") のような形で文字列を取れる API を作ること
です。

UiText.gd / UiTextDB.gd に対して、
typed GDScript での実装案と、修正版コード全文を提案してください。
必要な raw URL があれば聞いてください。
```

---

P2_T5_BATTLE_FLOW_REWRITE
「BattleFlow.gd のRPGターン制化」

```
工程表の P2_T5_BATTLE_FLOW_REWRITE を進めたいです。

目的は、
・BattleFlow.gd からじゃんけん関連ロジックを完全に削除し、
・HP / 心ゲージ / フォームゲージにもとづくターン制バトル専用ロジックに書き換えること
です。

設計JSONと battle_texts.json の新構造を前提に、
1) BattleFlow のクラス設計（状態の持ち方・関数API）
2) 修正版 BattleFlow.gd の全文案
を提示してください。
必要な raw URL があれば教えてください。
```

（他の P2_T2〜T9 も同じ要領で、「目的」と「テンプレ一行」を見ながらその都度作業、で十分回せると思います）

========================
P3 Vertical Slice（1章完成）
=======================

目的：
1章を「完成形に近い形」で通しプレイできるようにする。

ここは、P1・P2 がひと段落してからでOKです。

例：P3_T6_CH1_PLAYTHROUGH に着手したくなったときのテンプレ

```
工程表の P3_T6_CH1_PLAYTHROUGH を進めたいです。

目的は、
・タイトルから 1章終端まで通しで遊び、
・進行不能バグや大きな違和感を洗い出して修正すること
です。

想定されるチェック観点と、見つかった問題をメモするためのチェックリスト案を作ってください。
必要に応じて、現状の story_flow / stages / events / battle_texts のどれを見に行くべきかも教えてください。
```

========================
P4〜P7（量産〜仕上げ〜リリース）
==================

ここから先は、「1章 Vertical Slice が終わったあと」に見るフェーズです。
タスクは JSON にきれいに書かれているので、実際に着手するときに

「工程表の P4_T1_CH2_IMPLEMENT を進めたいです。目的は〜」

と JSON の detail を軽く要約しながら指示すれば十分です。

────────────────────
3. 使い方のまとめ
────────────────────

1. 今どのフェーズかを決める（当面は P1）
2. やりたいタスクの ID を選ぶ（例：P1_T5_BATTLE_TEXTS_REDESIGN）
3. 上の「ChatGPT への指示テンプレ」を貼る
4. ChatGPT が要求した .gd / JSON の raw URL を都度渡す
5. 作業が一区切りついたら
   「このタスクはここまで完了したので、工程表の次のタスクに進みたいです」
   と伝えて次へ進む

こんな形で、「工程表を見ながら ChatGPT にタスクを発注するための人間用ガイド」として使ってください。
もし「P2 のタスクも全部テンプレ化したい」などあれば、そこだけ追加で作ります。
